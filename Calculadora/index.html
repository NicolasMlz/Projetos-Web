<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Sua Calculadora Virtual</title>
    	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="estilo.css">
	</head>

	<body>
		<div id="centralizar">
			<div id="calculadora">

				<!-- VISOR -->
				<input type="text" id="visor" class="form-control resultado" placeholder="0" disabled="disabled" />

				<!-- TECLADO -->
				<div class="row">
					<button class="btn btn-dark duplo" id="limpar" onclick="limparVisor()">C</button>
					<button class="btn btn-dark" id="dividir" onclick="definirOperador('/')">/</button>
					<button class="btn btn-dark" id="multiplicar" onclick="definirOperador('x')">x</button>
				</div>

				<div class="row">
					<button class="btn btn-dark" onclick="definirNumero(7)">7</button>
					<button class="btn btn-dark" onclick="definirNumero(8)">8</button>
					<button class="btn btn-dark" onclick="definirNumero(9)">9</button>
					<button class="btn btn-dark" onclick="definirOperador('-')">-</button>
				</div>

				<div class="row">
					<button class="btn btn-dark" onclick="definirNumero(4)">4</button>
					<button class="btn btn-dark" onclick="definirNumero(5)">5</button>
					<button class="btn btn-dark" onclick="definirNumero(6)">6</button>
					<button class="btn btn-dark" onclick="definirOperador('+')">+</button>
				</div>

				<div class="row">
					<button class="btn btn-dark" onclick="definirNumero(1)">1</button>
					<button class="btn btn-dark" onclick="definirNumero(2)">2</button>
					<button class="btn btn-dark" onclick="definirNumero(3)">3</button>
					<button class="btn btn-dark enter" id="resultado" onclick="calcularResultado()">=</button>
				</div>

				<div class="row" style="margin-top: -60px">
					<button class="btn btn-dark duplo" onclick="definirNumero(0)">0</button>
					<button class="btn btn-dark" onclick="definirNumero('.')">.</button>
				</div>
			</div>
		</div>



		<script type="text/javascript">

			var primeiroTermo=0;
			var resultado=0;
			var op='';
			
			function definirNumero(numero) {

				if(parseFloat(document.getElementById('visor').value) == resultado) {
					document.getElementById('visor').value = '';
				}
				else if(numero==0 && document.getElementById('visor').value == 0) {}
				else if (numero == '.' && document.getElementById('visor').value.toString().includes('.')) {}

				document.getElementById('visor').value += numero
			}

			function definirOperador(operador) {

				if(op != '') {
					if(op == '+') {
						resultado += parseFloat(document.getElementById('visor').value);
					} else if (op == '-') {
						resultado -= parseFloat(document.getElementById('visor').value);
					} else if (op == 'x') {
						resultado *= parseFloat(document.getElementById('visor').value);
					} else if (op == '/') {
						resultado /= parseFloat(document.getElementById('visor').value);
					}
				} else {
					resultado = parseFloat(document.getElementById('visor').value);
				}

				document.getElementById('visor').value = resultado;
				op = operador;
			}

			function limparVisor() {
				document.getElementById('visor').value = '';
				resultado = 0;
				op='';
			}

			function calcularResultado() {
				definirOperador(op);			
				document.getElementById('visor').value = resultado;
				op = '';
			}


		</script>
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	</body>
</html>